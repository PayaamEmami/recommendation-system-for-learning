@inherits LayoutComponentBase
@using Rsl.Web.Services
@inject AuthService AuthService

<CascadingValue Value="AuthService">
    @if (_authService.CurrentState.IsAuthenticated)
    {
        <AppHeader />
    }

    <main class="app-main">
        @Body
    </main>

    <div id="blazor-error-ui" data-nosnippet>
        An unhandled exception has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ðŸ—™</span>
    </div>
</CascadingValue>

@code {
    private AuthService _authService = default!;

    protected override void OnInitialized()
    {
        _authService = AuthService;
    }
}
